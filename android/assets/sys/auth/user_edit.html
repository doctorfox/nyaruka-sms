{! extends "../base.html" !}

{! block content !}
<div class="page-header">
  <h1>Edit User</h1>
</div>

<div class="row">
  <div class="span6 columns">
    <h2>Users</h2>
    <p>Users let you control access to your applications.</p>
    <p>You should restrict users to only have the permissions they need.</p>
  </div>

  <div class="span10 columns">
    <form class="form-stacked" method="post">
      <fieldset>
        <legend>{{ user.username }}</legend>
        <div class="clearfix">
          <label for="name">Name</label>
          <div class="input">
            <input class="xlarge" id="name" name="name" size="30" type="text" value="{{user.name}}" />
          </div>
        </div><!-- /clearfix -->
        <div class="clearfix">
          <label for="name">Email</label>
          <div class="input">
            <input class="xlarge" id="email" name="email" size="30" type="text" value="{{user.email}}" />
          </div>
        </div><!-- /clearfix -->
        <div class="clearfix">
          <label for="name">New Password</label>
          <div class="input">
            <input class="xlarge" id="new_password" name="new_password" size="30" type="password" value="" />
          </div>
        </div><!-- /clearfix -->
        <div class="clearfix">
          <label id="optionsCheckboxes">Active</label>
          <div class="input">
            <ul class="inputs-list">
              <li>
                <label>
                  <input type="checkbox" name="active" value="active" {% if user.active %}checked{% endif %}/>
                  <span>Can this user log in?</span>
                </label>
              </li>
            </ul>
          </div>
        </div>
        <div class="clearfix">
          <label id="optionsCheckboxes">Permissions</label>
          <div class="input">
            <ul class="inputs-list">
              {% for permission in permissions %}
              <li>
                <label>
                  <input type="checkbox" name="perm_{{permission.slug}}" value="perm_{{permission.slug}}" {% if permission.granted %}checked{% endif %}/>
                  <span>{{ permission.description }}</span>
                </label>
              </li>
              {% endfor %}
            </ul>
          </div>
        </div>
      <input type="submit" value="Save" class="btn primary" />
      </fieldset>
    </form>
  </div>
</div>

{! endblock !}

